<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="UTF-8" />
		<title>egui wasm demo</title>
		<style>
			canvas {
				margin-right: auto;
				margin-left: auto;
				display: block;
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
			}
		</style>
		<link
			data-trunk
			rel="copy-file"
			href="assets/connect.svg"
			data-target-path="assets"
		/>
	</head>
	<body>
		<canvas id="canvas_id"></canvas>
	</body>
	<!-- <script type="module">
		import init, {
			connect_serial,
			read_serial,
		} from "./pkg/your_wasm_pkg.js";

		async function run() {
			await init();

			const btn = document.getElementById("connect");
			const out = document.getElementById("output");

			btn.onclick = async () => {
				const port = await connect_serial();
				out.textContent = "Connected!\n";

				// Чтение данных
				setInterval(async () => {
					const data = await read_serial(port);
					out.textContent += data + "\n";
				}, 1000);
			};
		}

		run();
	</script> -->
	<script>
		// We disable caching during development so that we always view the latest version.
		//if ("serviceWorker" in navigator && window.location.hash !== "#dev") {
		//	window.addEventListener("load", function () {
		//		navigator.serviceWorker.register("sw.js");
		//	});
		//}
	</script>
</html>
